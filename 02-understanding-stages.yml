trigger:
- master

pool:
  vmImage: ubuntu-latest

stages:
 - stage: Build
   jobs:
   - job: FirstJob
     steps:
     - bash: echo FirstJob, First Step!
     - bash: echo $(PipelineLevelVariable)
   - job: SecondJob
     steps:
     - bash: echo SecondJob, First Step!
 - stage: DevDeploy
   variables:
    environment: Dev 
   dependsOn: Build
   jobs:
   - job: DevDeploy
     steps:
     - bash: echo $(environment)Deploy, First Step!
 - stage: QADeploy
   variables:
    environment: QA
   dependsOn: DevDeploy
   jobs:
   - job: QADeploy
     steps:
     - bash: echo $(environment)Deploy, First Step!
 - stage: ProdDeploy
   variables:
    environment: Prod
   dependsOn:
   - DevDeploy
   - QADeploy
   jobs:
   - job: ProdDeploy
     steps:
     - bash: echo $(environment)Deploy, First Step!